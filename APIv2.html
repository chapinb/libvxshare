
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>VirusShare API v2 &#8212; LibVXShare 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="LibVXShare" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="LibVXShare"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LibVXShare 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-libvxshare.apiv2"></span><div class="section" id="virusshare-api-v2">
<h1>VirusShare API v2<a class="headerlink" href="#virusshare-api-v2" title="Permalink to this headline">¶</a></h1>
<p>Support for version 2 of the VirusShare API.</p>
<p>This API is fully documented here: <a class="reference external" href="https://virusshare.com/apiv2_reference">https://virusshare.com/apiv2_reference</a></p>
<p>An exception is raised in the case the status code is not 200 (Success) or 204 (Rate limited).</p>
<p>Please add try/except clauses around calls to this library to properly handle errors in requesting data.
This was not implemented within the library to allow greater flexibility in how you would like to handle errors.</p>
<dl class="class">
<dt id="libvxshare.apiv2.VirusShare">
<em class="property">class </em><code class="sig-prename descclassname">libvxshare.apiv2.</code><code class="sig-name descname">VirusShare</code><span class="sig-paren">(</span><em class="sig-param">api_key=None</em>, <em class="sig-param">requests_per_minute=4</em><span class="sig-paren">)</span><a class="headerlink" href="#libvxshare.apiv2.VirusShare" title="Permalink to this definition">¶</a></dt>
<dd><p>Class containing methods to support querying the VirusShare API including rate limiting operations.</p>
<dl class="method">
<dt id="libvxshare.apiv2.VirusShare.file_download">
<code class="sig-name descname">file_download</code><span class="sig-paren">(</span><em class="sig-param">hash_value</em><span class="sig-paren">)</span><a class="headerlink" href="#libvxshare.apiv2.VirusShare.file_download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a sample by hash value.</p>
<p>It is highly recommended to use self.file_exists to confirm the file is found
within the dataset before requesting a report.</p>
<p>This leverages the <cite>/download</cite> endpoint, which returns a byte stream containing a password
protected zip file archive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hash_value</strong> – A string hash value. May be one of md5, sha1, sha224, sha256, sha384, or sha512.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Byte content of the zip file containing the sample.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libvxshare.apiv2.VirusShare.file_exists">
<code class="sig-name descname">file_exists</code><span class="sig-paren">(</span><em class="sig-param">hash_value</em><span class="sig-paren">)</span><a class="headerlink" href="#libvxshare.apiv2.VirusShare.file_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Quickly confirm whether the file exists in the data set or not.</p>
<p>This leverages the <cite>/quick</cite> endpoint, and will return a 0 if the file is not found,
a 1 if the file is found and has a detection, and 2 if the file is found and benign.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hash_value</strong> – A string hash value. May be one of md5, sha1, sha224, sha256, sha384, or sha512.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing response from VirusShare, plus metadata fields about whether the file exists
or was detected.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libvxshare.apiv2.VirusShare.file_report">
<code class="sig-name descname">file_report</code><span class="sig-paren">(</span><em class="sig-param">hash_value</em><span class="sig-paren">)</span><a class="headerlink" href="#libvxshare.apiv2.VirusShare.file_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather a report about a file in the dataset.</p>
<p>It is highly recommended to use self.file_exists to confirm the file is found
within the dataset before requesting a report.</p>
<p>This leverages the <cite>/file</cite> endpoint, which returns a JSON document with key-value mappings of
the metadata associated with this entry. An example response is shown in the main documentation
here: <a class="reference external" href="https://virusshare.com/apiv2_reference">https://virusshare.com/apiv2_reference</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hash_value</strong> – A string hash value. May be one of md5, sha1, sha224, sha256, sha384, or sha512.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing response from VirusShare, plus metadata fields about the request</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="libvxshare.apiv2.VirusShare.file_source">
<code class="sig-name descname">file_source</code><span class="sig-paren">(</span><em class="sig-param">hash_value</em>, <em class="sig-param">convert_timestamps=False</em><span class="sig-paren">)</span><a class="headerlink" href="#libvxshare.apiv2.VirusShare.file_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather information about where the sample was sourced from.</p>
<p>It is highly recommended to use self.file_exists to confirm the file is found
within the dataset before requesting a report.</p>
<p>This leverages the <cite>/source</cite> endpoint, which returns a JSON document with key-value mappings of
the metadata associated with this entry. The main data point of interest is located in the
<cite>urllist</cite> field. An example response is shown in the main documentation
here: <a class="reference external" href="https://virusshare.com/apiv2_reference">https://virusshare.com/apiv2_reference</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hash_value</strong> – A string hash value. Must by SHA256</p></li>
<li><p><strong>convert_timestamps</strong> – Whether or not to convert timestamps to datetime objects. Will add <cite>datetime</cite> field.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary containing response from VirusShare, plus metadata fields about the request</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">VirusShare API v2</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">LibVXShare</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/APIv2.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="LibVXShare"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LibVXShare 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright MIT 2020, Chapin Bryce.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>